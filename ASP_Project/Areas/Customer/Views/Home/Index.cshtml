@using ASP_Project.Areas.Identity.Data.Models;
@model IEnumerable<Product>
@{
    ViewData["Title"] = "Home page";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="~/css/Home.css">
    <script defer src="https://kit.fontawesome.com/28a2634532.js" crossorigin="anonymous"></script>
</head> 
<body> 
    <div>

    <div class="title"><button class="redBtn">x Cancel filtration</button></div>
    <main>
        <div class="filters"></div>
        <div class="fourColumns">
            @foreach (var product in Model!)
            {
                <div class=product>
                    <p><span class="bordered green">-@product.Discount</span></p>
                        <img style="width: 150px; height: 190px" src="data:image/jpeg;base64,@Convert.ToBase64String(product.ProductImages.First().ImageData!)" alt="product image" />
                        <p>@product.Name</p>
                        @if (product.Discount != 0)
                        {
                            <p class=price>
                                <span class=crossed>@product.Price</span>
                                @(product.Price - product.Discount)
                            </p>
                        }
                        else
                        {
                            <p class=price>@product.Price</p>
                        }
                        <div class='hiddenAnimation'>
                        <div class='buttons'>
                            <button class="cart">Add to cart <i class="fa-solid fa-cart-shopping"></i></button>
                            <button class="heart"><i class="fa-regular fa-heart"></i></button>
                        </div>
                        <div class=smallDescription>
                            <div class="infoRow"><p class="grey">Producer: </p><p> @product.Producer</p></div><hr>
                            <div class="infoRow"><p class="grey">Internal Memmory: </p><p> @product.InternalMemory</p></div><hr>
                            <div class="infoRow"><p class="grey">RAM: </p><p> @product.RAM</p></div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </main>
    <script src="~/js/HIndex.js"></script>
    </div> 
</body>    
</html> 